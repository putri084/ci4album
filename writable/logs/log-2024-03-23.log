INFO - 2024-03-23 09:46:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 09:47:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 09:47:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 09:47:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 09:47:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 09:48:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2024-03-23 09:48:16 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9 in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-ph...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-ph...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-ph...')
#3 D:\ci4album\app\Controllers\Utility.php(46): CodeIgniter\Database\BaseConnection->query('-- mysqldump-ph...')
#4 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#7 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#8 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#9 {main}
CRITICAL - 2024-03-23 09:48:16 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 APPPATH\Controllers\Utility.php(46): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 2 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 3 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 4 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 09:48:16 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 3 APPPATH\Controllers\Utility.php(46): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 4 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 5 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 6 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 09:48:16 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 4 APPPATH\Controllers\Utility.php(46): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
INFO - 2024-03-23 09:48:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 09:49:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2024-03-23 09:49:29 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9 in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-ph...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-ph...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-ph...')
#3 D:\ci4album\app\Controllers\Utility.php(47): CodeIgniter\Database\BaseConnection->query('-- mysqldump-ph...')
#4 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#7 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#8 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#9 {main}
CRITICAL - 2024-03-23 09:49:29 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 APPPATH\Controllers\Utility.php(47): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 2 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 3 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 4 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 09:49:29 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 3 APPPATH\Controllers\Utility.php(47): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 4 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 5 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 6 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 09:49:29 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 4 APPPATH\Controllers\Utility.php(47): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
ERROR - 2024-03-23 09:50:29 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9 in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-ph...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-ph...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-ph...')
#3 D:\ci4album\app\Controllers\Utility.php(47): CodeIgniter\Database\BaseConnection->query('-- mysqldump-ph...')
#4 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#7 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#8 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#9 {main}
CRITICAL - 2024-03-23 09:50:29 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 APPPATH\Controllers\Utility.php(47): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 2 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 3 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 4 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 09:50:29 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 3 APPPATH\Controllers\Utility.php(47): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 4 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 5 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 6 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 09:50:29 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 4 APPPATH\Controllers\Utility.php(47): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
INFO - 2024-03-23 09:51:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2024-03-23 09:51:21 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9 in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-ph...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-ph...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-ph...')
#3 D:\ci4album\app\Controllers\Utility.php(47): CodeIgniter\Database\BaseConnection->query('-- mysqldump-ph...')
#4 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#7 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#8 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#9 {main}
CRITICAL - 2024-03-23 09:51:21 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 APPPATH\Controllers\Utility.php(47): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 2 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 3 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 4 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 09:51:21 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 3 APPPATH\Controllers\Utility.php(47): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 4 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 5 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 6 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 09:51:21 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 4 APPPATH\Controllers\Utility.php(47): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
ERROR - 2024-03-23 09:51:25 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9 in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-ph...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-ph...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-ph...')
#3 D:\ci4album\app\Controllers\Utility.php(47): CodeIgniter\Database\BaseConnection->query('-- mysqldump-ph...')
#4 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#7 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#8 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#9 {main}
CRITICAL - 2024-03-23 09:51:25 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 APPPATH\Controllers\Utility.php(47): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 2 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 3 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 4 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 09:51:25 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 3 APPPATH\Controllers\Utility.php(47): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 4 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 5 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 6 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 09:51:25 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 4 APPPATH\Controllers\Utility.php(47): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 09:48:11 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 09:48:11 +0700
')
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
INFO - 2024-03-23 09:52:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 09:54:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 09:54:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 09:54:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 09:54:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2024-03-23 09:54:18 --> mysqli_sql_exception: PROCEDURE ci4album.getMyAlbumDetails does not exist in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('CALL getMyAlbum...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('CALL getMyAlbum...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('CALL getMyAlbum...')
#3 D:\ci4album\app\Controllers\Home.php(163): CodeIgniter\Database\BaseConnection->query('CALL getMyAlbum...')
#4 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Home->getAllAlbumMe()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Home))
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#7 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#8 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#9 {main}
CRITICAL - 2024-03-23 09:54:18 --> CodeIgniter\Database\Exceptions\DatabaseException: PROCEDURE ci4album.getMyAlbumDetails does not exist
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 APPPATH\Controllers\Home.php(163): CodeIgniter\Database\BaseConnection->query('CALL getMyAlbumDetails(6)')
 2 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Home->getAllAlbumMe()
 3 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Home))
 4 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 09:54:18 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: PROCEDURE ci4album.getMyAlbumDetails does not exist
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('CALL getMyAlbumDetails(6)')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('CALL getMyAlbumDetails(6)')
 3 APPPATH\Controllers\Home.php(163): CodeIgniter\Database\BaseConnection->query('CALL getMyAlbumDetails(6)')
 4 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Home->getAllAlbumMe()
 5 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Home))
 6 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 09:54:18 --> [Caused by] mysqli_sql_exception: PROCEDURE ci4album.getMyAlbumDetails does not exist
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('CALL getMyAlbumDetails(6)', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('CALL getMyAlbumDetails(6)')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('CALL getMyAlbumDetails(6)')
 4 APPPATH\Controllers\Home.php(163): CodeIgniter\Database\BaseConnection->query('CALL getMyAlbumDetails(6)')
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Home->getAllAlbumMe()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Home))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
INFO - 2024-03-23 10:01:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 10:02:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 10:05:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 10:05:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 10:09:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2024-03-23 10:09:51 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE DATABASE ci4album' at line 2 in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('DROP DATABASE I...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('DROP DATABASE I...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('DROP DATABASE I...')
#3 D:\ci4album\app\Controllers\Utility.php(59): CodeIgniter\Database\BaseConnection->query('DROP DATABASE I...')
#4 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#7 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#8 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#9 {main}
CRITICAL - 2024-03-23 10:09:51 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE DATABASE ci4album' at line 2
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 APPPATH\Controllers\Utility.php(59): CodeIgniter\Database\BaseConnection->query('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;')
 2 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 3 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 4 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 10:09:51 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE DATABASE ci4album' at line 2
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;')
 3 APPPATH\Controllers\Utility.php(59): CodeIgniter\Database\BaseConnection->query('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;')
 4 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 5 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 6 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 10:09:51 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE DATABASE ci4album' at line 2
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;')
 4 APPPATH\Controllers\Utility.php(59): CodeIgniter\Database\BaseConnection->query('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;')
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
ERROR - 2024-03-23 10:09:55 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE DATABASE ci4album' at line 2 in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('DROP DATABASE I...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('DROP DATABASE I...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('DROP DATABASE I...')
#3 D:\ci4album\app\Controllers\Utility.php(59): CodeIgniter\Database\BaseConnection->query('DROP DATABASE I...')
#4 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#7 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#8 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#9 {main}
CRITICAL - 2024-03-23 10:09:55 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE DATABASE ci4album' at line 2
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 APPPATH\Controllers\Utility.php(59): CodeIgniter\Database\BaseConnection->query('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;')
 2 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 3 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 4 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 10:09:55 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE DATABASE ci4album' at line 2
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;')
 3 APPPATH\Controllers\Utility.php(59): CodeIgniter\Database\BaseConnection->query('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;')
 4 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 5 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 6 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 10:09:55 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE DATABASE ci4album' at line 2
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;')
 4 APPPATH\Controllers\Utility.php(59): CodeIgniter\Database\BaseConnection->query('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;')
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
INFO - 2024-03-23 10:10:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2024-03-23 10:10:35 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE DATABASE ci4album' at line 2 in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('DROP DATABASE I...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('DROP DATABASE I...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('DROP DATABASE I...')
#3 D:\ci4album\app\Controllers\Utility.php(59): CodeIgniter\Database\BaseConnection->query('DROP DATABASE I...')
#4 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#7 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#8 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#9 {main}
CRITICAL - 2024-03-23 10:10:35 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE DATABASE ci4album' at line 2
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 APPPATH\Controllers\Utility.php(59): CodeIgniter\Database\BaseConnection->query('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;')
 2 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 3 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 4 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 10:10:35 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE DATABASE ci4album' at line 2
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;')
 3 APPPATH\Controllers\Utility.php(59): CodeIgniter\Database\BaseConnection->query('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;')
 4 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 5 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 6 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 10:10:35 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE DATABASE ci4album' at line 2
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;')
 4 APPPATH\Controllers\Utility.php(59): CodeIgniter\Database\BaseConnection->query('DROP DATABASE IF EXISTS ci4album;
                      CREATE DATABASE ci4album;')
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
INFO - 2024-03-23 10:11:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2024-03-23 10:11:29 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9 in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-ph...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-ph...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-ph...')
#3 D:\ci4album\app\Controllers\Utility.php(61): CodeIgniter\Database\BaseConnection->query('-- mysqldump-ph...')
#4 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#7 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#8 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#9 {main}
CRITICAL - 2024-03-23 10:11:29 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 APPPATH\Controllers\Utility.php(61): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 2 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 3 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 4 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 10:11:29 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 3 APPPATH\Controllers\Utility.php(61): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 4 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 5 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 6 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 10:11:29 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 4 APPPATH\Controllers\Utility.php(61): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
INFO - 2024-03-23 10:13:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 10:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2024-03-23 10:16:36 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9 in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-ph...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-ph...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-ph...')
#3 D:\ci4album\app\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-ph...')
#4 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#7 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#8 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#9 {main}
CRITICAL - 2024-03-23 10:16:36 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 APPPATH\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 2 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 3 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 4 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 10:16:36 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 3 APPPATH\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 4 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 5 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 6 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 10:16:36 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 4 APPPATH\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
ERROR - 2024-03-23 10:16:40 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9 in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-ph...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-ph...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-ph...')
#3 D:\ci4album\app\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-ph...')
#4 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#7 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#8 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#9 {main}
CRITICAL - 2024-03-23 10:16:40 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 APPPATH\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 2 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 3 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 4 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 10:16:40 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 3 APPPATH\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 4 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 5 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 6 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 10:16:40 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 4 APPPATH\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
ERROR - 2024-03-23 10:16:45 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9 in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-ph...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-ph...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-ph...')
#3 D:\ci4album\app\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-ph...')
#4 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#7 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#8 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#9 {main}
CRITICAL - 2024-03-23 10:16:45 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 APPPATH\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 2 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 3 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 4 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 10:16:45 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 3 APPPATH\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 4 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 5 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 6 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 10:16:45 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 4 APPPATH\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
ERROR - 2024-03-23 10:16:49 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9 in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-ph...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-ph...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-ph...')
#3 D:\ci4album\app\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-ph...')
#4 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#7 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#8 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#9 {main}
CRITICAL - 2024-03-23 10:16:49 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 APPPATH\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 2 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 3 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 4 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 10:16:49 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 3 APPPATH\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 4 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 5 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 6 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 10:16:49 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 4 APPPATH\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
ERROR - 2024-03-23 10:16:53 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9 in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-ph...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-ph...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-ph...')
#3 D:\ci4album\app\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-ph...')
#4 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#7 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#8 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#9 {main}
CRITICAL - 2024-03-23 10:16:53 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 APPPATH\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 2 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 3 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 4 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 10:16:53 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 3 APPPATH\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 4 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 5 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 6 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 10:16:53 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 4 APPPATH\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
ERROR - 2024-03-23 10:16:58 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9 in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-ph...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-ph...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-ph...')
#3 D:\ci4album\app\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-ph...')
#4 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#7 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#8 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#9 {main}
CRITICAL - 2024-03-23 10:16:58 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 APPPATH\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 2 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 3 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 4 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 10:16:58 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 3 APPPATH\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 4 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 5 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 6 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 10:16:58 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 9
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 4 APPPATH\Controllers\Utility.php(63): CodeIgniter\Database\BaseConnection->query('-- mysqldump-php https://github.com/ifsnop/mysqldump-php
--
-- Host: localhost	Database: ci4album
-- ------------------------------------------------------
-- Server version 	8.0.30
-- Date: Sat, 23 Mar 2024 10:05:33 +0700

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `album` with 2 row(s)
--

--
-- Table structure for table `category`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `category` with 2 row(s)
--

--
-- Table structure for table `comment_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comment_photos`
--

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `comment_photos` with 0 row(s)
--

--
-- Table structure for table `like_photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `like_photos`
--

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `like_photos` with 0 row(s)
--

--
-- Table structure for table `migrations`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `migrations`
--

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `migrations` with 1 row(s)
--

--
-- Table structure for table `photos`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `photos`
--

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `photos` with 1 row(s)
--

--
-- Table structure for table `users`
--

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

-- Dumped table `users` with 4 row(s)
--

--
-- Stand-In structure for view `vw_album`
--

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
--
-- View structure for view `vw_album`
--

DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on: Sat, 23 Mar 2024 10:05:33 +0700
')
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
INFO - 2024-03-23 10:21:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 10:22:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 10:24:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 10:24:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 10:25:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 10:44:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 10:45:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 11:01:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 11:12:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 11:13:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2024-03-23 11:13:50 --> mysqli_sql_exception: Table 'ci4album.album' doesn't exist in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('SELECT *\nFROM `...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *\nFROM `...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *\nFROM `...')
#3 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *\nFROM `...', Array, false)
#4 D:\ci4album\vendor\codeigniter4\framework\system\Model.php(242): CodeIgniter\Database\BaseBuilder->get()
#5 D:\ci4album\vendor\codeigniter4\framework\system\BaseModel.php(638): CodeIgniter\Model->doFindAll(0, 0)
#6 D:\ci4album\app\Controllers\Album.php(36): CodeIgniter\BaseModel->findAll()
#7 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Album->getAll()
#8 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Album))
#9 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#11 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#12 {main}
CRITICAL - 2024-03-23 11:13:50 --> CodeIgniter\Database\Exceptions\DatabaseException: Table 'ci4album.album' doesn't exist
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `album`', [], false)
 2 SYSTEMPATH\Model.php(242): CodeIgniter\Database\BaseBuilder->get()
 3 SYSTEMPATH\BaseModel.php(638): CodeIgniter\Model->doFindAll(0, 0)
 4 APPPATH\Controllers\Album.php(36): CodeIgniter\BaseModel->findAll()
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Album->getAll()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Album))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 11:13:50 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Table 'ci4album.album' doesn't exist
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *
FROM `album`')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *
FROM `album`')
 3 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `album`', [], false)
 4 SYSTEMPATH\Model.php(242): CodeIgniter\Database\BaseBuilder->get()
 5 SYSTEMPATH\BaseModel.php(638): CodeIgniter\Model->doFindAll(0, 0)
 6 APPPATH\Controllers\Album.php(36): CodeIgniter\BaseModel->findAll()
 7 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Album->getAll()
 8 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Album))
 9 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 11:13:50 --> [Caused by] mysqli_sql_exception: Table 'ci4album.album' doesn't exist
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('SELECT *
FROM `album`', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *
FROM `album`')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *
FROM `album`')
 4 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `album`', [], false)
 5 SYSTEMPATH\Model.php(242): CodeIgniter\Database\BaseBuilder->get()
 6 SYSTEMPATH\BaseModel.php(638): CodeIgniter\Model->doFindAll(0, 0)
 7 APPPATH\Controllers\Album.php(36): CodeIgniter\BaseModel->findAll()
 8 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Album->getAll()
 9 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Album))
10 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
11 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
12 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
INFO - 2024-03-23 11:13:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 11:14:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 11:21:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 11:21:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 11:27:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 11:28:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 11:33:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2024-03-23 11:33:20 --> mysqli_sql_exception: Table 'ci4album.category' doesn't exist in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('SELECT *\nFROM `...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *\nFROM `...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *\nFROM `...')
#3 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *\nFROM `...', Array, false)
#4 D:\ci4album\vendor\codeigniter4\framework\system\Model.php(242): CodeIgniter\Database\BaseBuilder->get()
#5 D:\ci4album\vendor\codeigniter4\framework\system\BaseModel.php(638): CodeIgniter\Model->doFindAll(0, 0)
#6 D:\ci4album\app\Controllers\Category.php(38): CodeIgniter\BaseModel->findAll()
#7 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Category->getAll()
#8 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Category))
#9 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#11 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#12 {main}
CRITICAL - 2024-03-23 11:33:20 --> CodeIgniter\Database\Exceptions\DatabaseException: Table 'ci4album.category' doesn't exist
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `category`', [], false)
 2 SYSTEMPATH\Model.php(242): CodeIgniter\Database\BaseBuilder->get()
 3 SYSTEMPATH\BaseModel.php(638): CodeIgniter\Model->doFindAll(0, 0)
 4 APPPATH\Controllers\Category.php(38): CodeIgniter\BaseModel->findAll()
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Category->getAll()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Category))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 11:33:20 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Table 'ci4album.category' doesn't exist
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *
FROM `category`')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *
FROM `category`')
 3 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `category`', [], false)
 4 SYSTEMPATH\Model.php(242): CodeIgniter\Database\BaseBuilder->get()
 5 SYSTEMPATH\BaseModel.php(638): CodeIgniter\Model->doFindAll(0, 0)
 6 APPPATH\Controllers\Category.php(38): CodeIgniter\BaseModel->findAll()
 7 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Category->getAll()
 8 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Category))
 9 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 11:33:20 --> [Caused by] mysqli_sql_exception: Table 'ci4album.category' doesn't exist
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('SELECT *
FROM `category`', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *
FROM `category`')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *
FROM `category`')
 4 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `category`', [], false)
 5 SYSTEMPATH\Model.php(242): CodeIgniter\Database\BaseBuilder->get()
 6 SYSTEMPATH\BaseModel.php(638): CodeIgniter\Model->doFindAll(0, 0)
 7 APPPATH\Controllers\Category.php(38): CodeIgniter\BaseModel->findAll()
 8 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Category->getAll()
 9 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Category))
10 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
11 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
12 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
INFO - 2024-03-23 11:38:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 11:40:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
CRITICAL - 2024-03-23 11:40:27 --> PDOException: SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER' at line 1
in VENDORPATH\ifsnop\mysqldump-php\src\Ifsnop\Mysqldump\Mysqldump.php on line 312.
 1 VENDORPATH\ifsnop\mysqldump-php\src\Ifsnop\Mysqldump\Mysqldump.php(312): PDO->exec('DELIMITER ;;')
 2 APPPATH\Controllers\Utility.php(64): Ifsnop\Mysqldump\Mysqldump->restore('D:\\ci4album\\app\\/Database/Backup/new-2024-03-23.sql')
 3 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 4 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 5 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 6 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 7 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
INFO - 2024-03-23 11:43:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
CRITICAL - 2024-03-23 11:43:06 --> PDOException: SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(I' at line 1
in APPPATH\Controllers\Utility.php on line 58.
 1 APPPATH\Controllers\Utility.php(58): PDO->exec('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

')
 2 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 3 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 4 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
INFO - 2024-03-23 11:43:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 11:45:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2024-03-23 11:45:46 --> Error connecting to the database: mysqli_sql_exception: Unknown database 'ci4album' in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:184
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(184): mysqli->real_connect('localhost', 'root', Object(SensitiveParameterValue), 'ci4album', 3306, '', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(392): CodeIgniter\Database\MySQLi\Connection->connect(false)
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\Database.php(66): CodeIgniter\Database\BaseConnection->initialize()
#3 D:\ci4album\vendor\codeigniter4\framework\system\Database\Config.php(109): CodeIgniter\Database\Database->loadForge(Object(CodeIgniter\Database\MySQLi\Connection))
#4 D:\ci4album\app\Controllers\Utility.php(44): CodeIgniter\Database\Config::forge()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
#7 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#9 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#10 {main}

Next CodeIgniter\Database\Exceptions\DatabaseException: Unknown database 'ci4album' in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:229
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(392): CodeIgniter\Database\MySQLi\Connection->connect(false)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\Database.php(66): CodeIgniter\Database\BaseConnection->initialize()
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\Config.php(109): CodeIgniter\Database\Database->loadForge(Object(CodeIgniter\Database\MySQLi\Connection))
#3 D:\ci4album\app\Controllers\Utility.php(44): CodeIgniter\Database\Config::forge()
#4 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#7 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#8 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#9 {main}
CRITICAL - 2024-03-23 11:45:46 --> CodeIgniter\Database\Exceptions\DatabaseException: Unable to connect to the database.
Main connection [MySQLi]: Unknown database 'ci4album'
in SYSTEMPATH\Database\BaseConnection.php on line 428.
 1 SYSTEMPATH\Database\Database.php(66): CodeIgniter\Database\BaseConnection->initialize()
 2 SYSTEMPATH\Database\Config.php(109): CodeIgniter\Database\Database->loadForge(Object(CodeIgniter\Database\MySQLi\Connection))
 3 APPPATH\Controllers\Utility.php(44): CodeIgniter\Database\Config::forge()
 4 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 5 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 6 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
INFO - 2024-03-23 11:46:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 11:47:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2024-03-23 11:47:56 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 2 in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('/*!40101 SET @O...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('/*!40101 SET @O...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('/*!40101 SET @O...')
#3 D:\ci4album\app\Controllers\Utility.php(54): CodeIgniter\Database\BaseConnection->query('/*!40101 SET @O...')
#4 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#7 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#8 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#9 {main}
CRITICAL - 2024-03-23 11:47:56 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 2
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 APPPATH\Controllers\Utility.php(54): CodeIgniter\Database\BaseConnection->query('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

')
 2 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 3 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 4 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 11:47:56 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 2
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

')
 3 APPPATH\Controllers\Utility.php(54): CodeIgniter\Database\BaseConnection->query('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

')
 4 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 5 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 6 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 11:47:56 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 2
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

')
 4 APPPATH\Controllers\Utility.php(54): CodeIgniter\Database\BaseConnection->query('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

')
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
ERROR - 2024-03-23 11:48:00 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 2 in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('/*!40101 SET @O...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('/*!40101 SET @O...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('/*!40101 SET @O...')
#3 D:\ci4album\app\Controllers\Utility.php(54): CodeIgniter\Database\BaseConnection->query('/*!40101 SET @O...')
#4 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#7 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#8 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#9 {main}
CRITICAL - 2024-03-23 11:48:00 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 2
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 APPPATH\Controllers\Utility.php(54): CodeIgniter\Database\BaseConnection->query('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

')
 2 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 3 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 4 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 11:48:00 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 2
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

')
 3 APPPATH\Controllers\Utility.php(54): CodeIgniter\Database\BaseConnection->query('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

')
 4 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 5 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 6 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 11:48:00 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 2
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

')
 4 APPPATH\Controllers\Utility.php(54): CodeIgniter\Database\BaseConnection->query('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

')
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
ERROR - 2024-03-23 11:48:05 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 2 in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('/*!40101 SET @O...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('/*!40101 SET @O...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('/*!40101 SET @O...')
#3 D:\ci4album\app\Controllers\Utility.php(54): CodeIgniter\Database\BaseConnection->query('/*!40101 SET @O...')
#4 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#7 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#8 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#9 {main}
CRITICAL - 2024-03-23 11:48:05 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 2
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 APPPATH\Controllers\Utility.php(54): CodeIgniter\Database\BaseConnection->query('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

')
 2 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 3 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 4 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 11:48:05 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 2
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

')
 3 APPPATH\Controllers\Utility.php(54): CodeIgniter\Database\BaseConnection->query('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

')
 4 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 5 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 6 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 11:48:05 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_CO' at line 2
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

')
 4 APPPATH\Controllers\Utility.php(54): CodeIgniter\Database\BaseConnection->query('/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=\'+00:00\' */;
/*!40101 SET @OLD_AUTOCOMMIT=@@AUTOCOMMIT */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=\'NO_AUTO_VALUE_ON_ZERO\' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `album` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int unsigned NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `album` VALUES (7,\'Sasa Album\',\'Keren\',1,6,0,\'2024-03-22 10:33:12\',\'2024-03-22 10:33:12\'),(8,\'Master Album\',\'123123\',1,10,0,\'2024-03-22 10:36:24\',\'2024-03-22 10:36:24\');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `category` VALUES (1,\'Animal\'),(2,\'Art\');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comment_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `comment_photos_photo_id_foreign` (`photo_id`),
  KEY `comment_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `comment_photos` WRITE;
/*!40000 ALTER TABLE `comment_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `comment_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `like_photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `photo_id` int unsigned NOT NULL,
  `user_id` int unsigned NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `like_photos_photo_id_foreign` (`photo_id`),
  KEY `like_photos_user_id_foreign` (`user_id`),
  CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `like_photos` WRITE;
/*!40000 ALTER TABLE `like_photos` DISABLE KEYS */;
SET autocommit=0;
/*!40000 ALTER TABLE `like_photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrations` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `migrations` WRITE;
/*!40000 ALTER TABLE `migrations` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `migrations` VALUES (1,\'2024-01-28-073242\',\'App\\\\Database\\\\Migrations\\\\CreateTable\',\'default\',\'App\',1706432625,1);
/*!40000 ALTER TABLE `migrations` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `photos` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `album_id` int unsigned NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `photos_album_id_foreign` (`album_id`),
  CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `photos` WRITE;
/*!40000 ALTER TABLE `photos` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `photos` VALUES (8,7,\'Sasa\',\'Sasa\',\'1711082301_32a71dc036ce05e976cc.png\',\'sasa\',\'2024-03-22 11:38:21\',\'2024-03-22 11:38:21\');
/*!40000 ALTER TABLE `photos` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
SET autocommit=0;
INSERT INTO `users` VALUES (6,\'Aprillia Putri\',\'april08\',\'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\',\'default.png\',\'aprilliaputri844@gmail.com\',\'Jl. Jalan\',0,\'2024-03-17 14:54:07\',\'2024-03-22 09:06:00\'),(7,\'Rizky\',\'rizky123\',\'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\',\'default.png\',\'mrizkylubis2022@gmail.com\',\'Jl Jalan\',0,\'2024-03-21 09:29:59\',\'2024-03-21 09:29:59\'),(9,\'Sasa\',\'sasa20\',\'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\',\'default.png\',\'sasamalik@gmail.com\',\'Jl. Jalan\',0,\'2024-03-21 10:27:39\',\'2024-03-21 10:27:39\'),(10,\'Master\',\'master07\',\'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\',\'default.png\',\'master@gmail.com\',\'Jl jamin ginting\',1,\'2024-03-22 10:35:36\',\'2024-03-22 10:35:36\');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

/*!50003 DROP PROCEDURE IF EXISTS `GetAlbumByCategory` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory`(IN `cat_id` INT)
BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

/*!50003 DROP PROCEDURE IF EXISTS `GetMyAlbumDetails` */;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails`(IN `session_id` INT)
BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END ;;
DELIMITER ;
/*!40101 SET character_set_client = @saved_cs_client */;

CREATE TABLE IF NOT EXISTS `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);
DROP TABLE IF EXISTS `vw_album`;
/*!50001 DROP VIEW IF EXISTS `vw_album`*/;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vw_album` AS select `album`.`id` AS `id`,`album`.`album_name` AS `album_name`,`users`.`username` AS `username`,`users`.`avatar` AS `avatar`,`users`.`fullname` AS `fullname`,`users`.`id` AS `user_id` from (`album` join `users` on((`users`.`id` = `album`.`user_id`))) */;

/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
/*!40101 SET AUTOCOMMIT=@OLD_AUTOCOMMIT */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

')
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
INFO - 2024-03-23 11:50:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 11:51:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 11:56:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 11:58:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 11:58:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 12:01:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2024-03-23 12:02:01 --> mysqli_sql_exception: Table 'ci4album.category' doesn't exist in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('SELECT *\nFROM `...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *\nFROM `...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *\nFROM `...')
#3 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *\nFROM `...', Array, false)
#4 D:\ci4album\vendor\codeigniter4\framework\system\Model.php(242): CodeIgniter\Database\BaseBuilder->get()
#5 D:\ci4album\vendor\codeigniter4\framework\system\BaseModel.php(638): CodeIgniter\Model->doFindAll(0, 0)
#6 D:\ci4album\app\Controllers\Category.php(38): CodeIgniter\BaseModel->findAll()
#7 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Category->getAll()
#8 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Category))
#9 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#11 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#12 {main}
CRITICAL - 2024-03-23 12:02:01 --> CodeIgniter\Database\Exceptions\DatabaseException: Table 'ci4album.category' doesn't exist
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `category`', [], false)
 2 SYSTEMPATH\Model.php(242): CodeIgniter\Database\BaseBuilder->get()
 3 SYSTEMPATH\BaseModel.php(638): CodeIgniter\Model->doFindAll(0, 0)
 4 APPPATH\Controllers\Category.php(38): CodeIgniter\BaseModel->findAll()
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Category->getAll()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Category))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 12:02:01 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Table 'ci4album.category' doesn't exist
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *
FROM `category`')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *
FROM `category`')
 3 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `category`', [], false)
 4 SYSTEMPATH\Model.php(242): CodeIgniter\Database\BaseBuilder->get()
 5 SYSTEMPATH\BaseModel.php(638): CodeIgniter\Model->doFindAll(0, 0)
 6 APPPATH\Controllers\Category.php(38): CodeIgniter\BaseModel->findAll()
 7 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Category->getAll()
 8 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Category))
 9 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 12:02:01 --> [Caused by] mysqli_sql_exception: Table 'ci4album.category' doesn't exist
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('SELECT *
FROM `category`', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *
FROM `category`')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *
FROM `category`')
 4 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `category`', [], false)
 5 SYSTEMPATH\Model.php(242): CodeIgniter\Database\BaseBuilder->get()
 6 SYSTEMPATH\BaseModel.php(638): CodeIgniter\Model->doFindAll(0, 0)
 7 APPPATH\Controllers\Category.php(38): CodeIgniter\BaseModel->findAll()
 8 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Category->getAll()
 9 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Category))
10 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
11 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
12 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
ERROR - 2024-03-23 12:02:05 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_S' at line 11 in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('-- phpMyAdmin S...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- phpMyAdmin S...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- phpMyAdmin S...')
#3 D:\ci4album\app\Controllers\Utility.php(54): CodeIgniter\Database\BaseConnection->query('-- phpMyAdmin S...')
#4 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#7 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#8 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#9 {main}
CRITICAL - 2024-03-23 12:02:05 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_S' at line 11
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 APPPATH\Controllers\Utility.php(54): CodeIgniter\Database\BaseConnection->query('-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: localhost
-- Generation Time: Mar 22, 2024 at 04:56 AM
-- Server version: 8.0.30
-- PHP Version: 7.4.33

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `ci4album`
--

DELIMITER $$
--
-- Procedures
--
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory` (IN `cat_id` INT)   BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails` (IN `session_id` INT)   BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END$$

DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `album`
--

CREATE TABLE `album` (
  `id` int UNSIGNED NOT NULL,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `album`
--

INSERT INTO `album` (`id`, `album_name`, `description`, `category_id`, `user_id`, `status`, `created_at`, `updated_at`) VALUES
(7, \'Sasa Album\', \'Keren\', 1, 6, 0, \'2024-03-22 10:33:12\', \'2024-03-22 10:33:12\'),
(8, \'Master Album\', \'123123\', 1, 10, 0, \'2024-03-22 10:36:24\', \'2024-03-22 10:36:24\');

-- --------------------------------------------------------

--
-- Table structure for table `category`
--

CREATE TABLE `category` (
  `id` int NOT NULL,
  `name` varchar(200) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `category`
--

INSERT INTO `category` (`id`, `name`) VALUES
(1, \'Animal\'),
(2, \'Art\');

-- --------------------------------------------------------

--
-- Table structure for table `comment_photos`
--

CREATE TABLE `comment_photos` (
  `id` int UNSIGNED NOT NULL,
  `photo_id` int UNSIGNED NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

-- --------------------------------------------------------

--
-- Table structure for table `like_photos`
--

CREATE TABLE `like_photos` (
  `id` int UNSIGNED NOT NULL,
  `photo_id` int UNSIGNED NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

-- --------------------------------------------------------

--
-- Table structure for table `migrations`
--

CREATE TABLE `migrations` (
  `id` bigint UNSIGNED NOT NULL,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `migrations`
--

INSERT INTO `migrations` (`id`, `version`, `class`, `group`, `namespace`, `time`, `batch`) VALUES
(1, \'2024-01-28-073242\', \'App\\\\Database\\\\Migrations\\\\CreateTable\', \'default\', \'App\', 1706432625, 1);

-- --------------------------------------------------------

--
-- Table structure for table `photos`
--

CREATE TABLE `photos` (
  `id` int UNSIGNED NOT NULL,
  `album_id` int UNSIGNED NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `photos`
--

INSERT INTO `photos` (`id`, `album_id`, `photo_name`, `description`, `location`, `url_title`, `created_at`, `updated_at`) VALUES
(8, 7, \'Sasa\', \'Sasa\', \'1711082301_32a71dc036ce05e976cc.png\', \'sasa\', \'2024-03-22 11:38:21\', \'2024-03-22 11:38:21\');

-- --------------------------------------------------------

--
-- Table structure for table `users`
--

CREATE TABLE `users` (
  `id` int UNSIGNED NOT NULL,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `users`
--

INSERT INTO `users` (`id`, `fullname`, `username`, `password`, `avatar`, `email`, `address`, `role`, `created_at`, `updated_at`) VALUES
(6, \'Aprillia Putri\', \'april08\', \'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\', \'default.png\', \'aprilliaputri844@gmail.com\', \'Jl. Jalan\', 0, \'2024-03-17 14:54:07\', \'2024-03-22 09:06:00\'),
(7, \'Rizky\', \'rizky123\', \'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\', \'default.png\', \'mrizkylubis2022@gmail.com\', \'Jl Jalan\', 0, \'2024-03-21 09:29:59\', \'2024-03-21 09:29:59\'),
(9, \'Sasa\', \'sasa20\', \'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\', \'default.png\', \'sasamalik@gmail.com\', \'Jl. Jalan\', 0, \'2024-03-21 10:27:39\', \'2024-03-21 10:27:39\'),
(10, \'Master\', \'master07\', \'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\', \'default.png\', \'master@gmail.com\', \'Jl jamin ginting\', 1, \'2024-03-22 10:35:36\', \'2024-03-22 10:35:36\');

-- --------------------------------------------------------

--
-- Stand-in structure for view `vw_album`
-- (See below for the actual view)
--
CREATE TABLE `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);

-- --------------------------------------------------------

--
-- Structure for view `vw_album`
--
DROP TABLE IF EXISTS `vw_album`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `vw_album`  AS SELECT `album`.`id` AS `id`, `album`.`album_name` AS `album_name`, `users`.`username` AS `username`, `users`.`avatar` AS `avatar`, `users`.`fullname` AS `fullname`, `users`.`id` AS `user_id` FROM (`album` join `users` on((`users`.`id` = `album`.`user_id`))) ;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `album`
--
ALTER TABLE `album`
  ADD PRIMARY KEY (`id`),
  ADD KEY `category_id` (`category_id`),
  ADD KEY `user_id` (`user_id`);

--
-- Indexes for table `category`
--
ALTER TABLE `category`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `comment_photos`
--
ALTER TABLE `comment_photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `comment_photos_photo_id_foreign` (`photo_id`),
  ADD KEY `comment_photos_user_id_foreign` (`user_id`);

--
-- Indexes for table `like_photos`
--
ALTER TABLE `like_photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `like_photos_photo_id_foreign` (`photo_id`),
  ADD KEY `like_photos_user_id_foreign` (`user_id`);

--
-- Indexes for table `migrations`
--
ALTER TABLE `migrations`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `photos`
--
ALTER TABLE `photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `photos_album_id_foreign` (`album_id`);

--
-- Indexes for table `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `album`
--
ALTER TABLE `album`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- AUTO_INCREMENT for table `category`
--
ALTER TABLE `category`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT for table `comment_photos`
--
ALTER TABLE `comment_photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=13;

--
-- AUTO_INCREMENT for table `like_photos`
--
ALTER TABLE `like_photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=33;

--
-- AUTO_INCREMENT for table `migrations`
--
ALTER TABLE `migrations`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `photos`
--
ALTER TABLE `photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- AUTO_INCREMENT for table `users`
--
ALTER TABLE `users`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `album`
--
ALTER TABLE `album`
  ADD CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `comment_photos`
--
ALTER TABLE `comment_photos`
  ADD CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `like_photos`
--
ALTER TABLE `like_photos`
  ADD CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `photos`
--
ALTER TABLE `photos`
  ADD CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
')
 2 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 3 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 4 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 12:02:05 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_S' at line 11
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: localhost
-- Generation Time: Mar 22, 2024 at 04:56 AM
-- Server version: 8.0.30
-- PHP Version: 7.4.33

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `ci4album`
--

DELIMITER $$
--
-- Procedures
--
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory` (IN `cat_id` INT)   BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails` (IN `session_id` INT)   BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END$$

DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `album`
--

CREATE TABLE `album` (
  `id` int UNSIGNED NOT NULL,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `album`
--

INSERT INTO `album` (`id`, `album_name`, `description`, `category_id`, `user_id`, `status`, `created_at`, `updated_at`) VALUES
(7, \'Sasa Album\', \'Keren\', 1, 6, 0, \'2024-03-22 10:33:12\', \'2024-03-22 10:33:12\'),
(8, \'Master Album\', \'123123\', 1, 10, 0, \'2024-03-22 10:36:24\', \'2024-03-22 10:36:24\');

-- --------------------------------------------------------

--
-- Table structure for table `category`
--

CREATE TABLE `category` (
  `id` int NOT NULL,
  `name` varchar(200) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `category`
--

INSERT INTO `category` (`id`, `name`) VALUES
(1, \'Animal\'),
(2, \'Art\');

-- --------------------------------------------------------

--
-- Table structure for table `comment_photos`
--

CREATE TABLE `comment_photos` (
  `id` int UNSIGNED NOT NULL,
  `photo_id` int UNSIGNED NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

-- --------------------------------------------------------

--
-- Table structure for table `like_photos`
--

CREATE TABLE `like_photos` (
  `id` int UNSIGNED NOT NULL,
  `photo_id` int UNSIGNED NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

-- --------------------------------------------------------

--
-- Table structure for table `migrations`
--

CREATE TABLE `migrations` (
  `id` bigint UNSIGNED NOT NULL,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `migrations`
--

INSERT INTO `migrations` (`id`, `version`, `class`, `group`, `namespace`, `time`, `batch`) VALUES
(1, \'2024-01-28-073242\', \'App\\\\Database\\\\Migrations\\\\CreateTable\', \'default\', \'App\', 1706432625, 1);

-- --------------------------------------------------------

--
-- Table structure for table `photos`
--

CREATE TABLE `photos` (
  `id` int UNSIGNED NOT NULL,
  `album_id` int UNSIGNED NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `photos`
--

INSERT INTO `photos` (`id`, `album_id`, `photo_name`, `description`, `location`, `url_title`, `created_at`, `updated_at`) VALUES
(8, 7, \'Sasa\', \'Sasa\', \'1711082301_32a71dc036ce05e976cc.png\', \'sasa\', \'2024-03-22 11:38:21\', \'2024-03-22 11:38:21\');

-- --------------------------------------------------------

--
-- Table structure for table `users`
--

CREATE TABLE `users` (
  `id` int UNSIGNED NOT NULL,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `users`
--

INSERT INTO `users` (`id`, `fullname`, `username`, `password`, `avatar`, `email`, `address`, `role`, `created_at`, `updated_at`) VALUES
(6, \'Aprillia Putri\', \'april08\', \'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\', \'default.png\', \'aprilliaputri844@gmail.com\', \'Jl. Jalan\', 0, \'2024-03-17 14:54:07\', \'2024-03-22 09:06:00\'),
(7, \'Rizky\', \'rizky123\', \'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\', \'default.png\', \'mrizkylubis2022@gmail.com\', \'Jl Jalan\', 0, \'2024-03-21 09:29:59\', \'2024-03-21 09:29:59\'),
(9, \'Sasa\', \'sasa20\', \'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\', \'default.png\', \'sasamalik@gmail.com\', \'Jl. Jalan\', 0, \'2024-03-21 10:27:39\', \'2024-03-21 10:27:39\'),
(10, \'Master\', \'master07\', \'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\', \'default.png\', \'master@gmail.com\', \'Jl jamin ginting\', 1, \'2024-03-22 10:35:36\', \'2024-03-22 10:35:36\');

-- --------------------------------------------------------

--
-- Stand-in structure for view `vw_album`
-- (See below for the actual view)
--
CREATE TABLE `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);

-- --------------------------------------------------------

--
-- Structure for view `vw_album`
--
DROP TABLE IF EXISTS `vw_album`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `vw_album`  AS SELECT `album`.`id` AS `id`, `album`.`album_name` AS `album_name`, `users`.`username` AS `username`, `users`.`avatar` AS `avatar`, `users`.`fullname` AS `fullname`, `users`.`id` AS `user_id` FROM (`album` join `users` on((`users`.`id` = `album`.`user_id`))) ;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `album`
--
ALTER TABLE `album`
  ADD PRIMARY KEY (`id`),
  ADD KEY `category_id` (`category_id`),
  ADD KEY `user_id` (`user_id`);

--
-- Indexes for table `category`
--
ALTER TABLE `category`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `comment_photos`
--
ALTER TABLE `comment_photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `comment_photos_photo_id_foreign` (`photo_id`),
  ADD KEY `comment_photos_user_id_foreign` (`user_id`);

--
-- Indexes for table `like_photos`
--
ALTER TABLE `like_photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `like_photos_photo_id_foreign` (`photo_id`),
  ADD KEY `like_photos_user_id_foreign` (`user_id`);

--
-- Indexes for table `migrations`
--
ALTER TABLE `migrations`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `photos`
--
ALTER TABLE `photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `photos_album_id_foreign` (`album_id`);

--
-- Indexes for table `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `album`
--
ALTER TABLE `album`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- AUTO_INCREMENT for table `category`
--
ALTER TABLE `category`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT for table `comment_photos`
--
ALTER TABLE `comment_photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=13;

--
-- AUTO_INCREMENT for table `like_photos`
--
ALTER TABLE `like_photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=33;

--
-- AUTO_INCREMENT for table `migrations`
--
ALTER TABLE `migrations`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `photos`
--
ALTER TABLE `photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- AUTO_INCREMENT for table `users`
--
ALTER TABLE `users`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `album`
--
ALTER TABLE `album`
  ADD CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `comment_photos`
--
ALTER TABLE `comment_photos`
  ADD CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `like_photos`
--
ALTER TABLE `like_photos`
  ADD CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `photos`
--
ALTER TABLE `photos`
  ADD CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: localhost
-- Generation Time: Mar 22, 2024 at 04:56 AM
-- Server version: 8.0.30
-- PHP Version: 7.4.33

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `ci4album`
--

DELIMITER $$
--
-- Procedures
--
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory` (IN `cat_id` INT)   BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails` (IN `session_id` INT)   BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END$$

DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `album`
--

CREATE TABLE `album` (
  `id` int UNSIGNED NOT NULL,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `album`
--

INSERT INTO `album` (`id`, `album_name`, `description`, `category_id`, `user_id`, `status`, `created_at`, `updated_at`) VALUES
(7, \'Sasa Album\', \'Keren\', 1, 6, 0, \'2024-03-22 10:33:12\', \'2024-03-22 10:33:12\'),
(8, \'Master Album\', \'123123\', 1, 10, 0, \'2024-03-22 10:36:24\', \'2024-03-22 10:36:24\');

-- --------------------------------------------------------

--
-- Table structure for table `category`
--

CREATE TABLE `category` (
  `id` int NOT NULL,
  `name` varchar(200) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `category`
--

INSERT INTO `category` (`id`, `name`) VALUES
(1, \'Animal\'),
(2, \'Art\');

-- --------------------------------------------------------

--
-- Table structure for table `comment_photos`
--

CREATE TABLE `comment_photos` (
  `id` int UNSIGNED NOT NULL,
  `photo_id` int UNSIGNED NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

-- --------------------------------------------------------

--
-- Table structure for table `like_photos`
--

CREATE TABLE `like_photos` (
  `id` int UNSIGNED NOT NULL,
  `photo_id` int UNSIGNED NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

-- --------------------------------------------------------

--
-- Table structure for table `migrations`
--

CREATE TABLE `migrations` (
  `id` bigint UNSIGNED NOT NULL,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `migrations`
--

INSERT INTO `migrations` (`id`, `version`, `class`, `group`, `namespace`, `time`, `batch`) VALUES
(1, \'2024-01-28-073242\', \'App\\\\Database\\\\Migrations\\\\CreateTable\', \'default\', \'App\', 1706432625, 1);

-- --------------------------------------------------------

--
-- Table structure for table `photos`
--

CREATE TABLE `photos` (
  `id` int UNSIGNED NOT NULL,
  `album_id` int UNSIGNED NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `photos`
--

INSERT INTO `photos` (`id`, `album_id`, `photo_name`, `description`, `location`, `url_title`, `created_at`, `updated_at`) VALUES
(8, 7, \'Sasa\', \'Sasa\', \'1711082301_32a71dc036ce05e976cc.png\', \'sasa\', \'2024-03-22 11:38:21\', \'2024-03-22 11:38:21\');

-- --------------------------------------------------------

--
-- Table structure for table `users`
--

CREATE TABLE `users` (
  `id` int UNSIGNED NOT NULL,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `users`
--

INSERT INTO `users` (`id`, `fullname`, `username`, `password`, `avatar`, `email`, `address`, `role`, `created_at`, `updated_at`) VALUES
(6, \'Aprillia Putri\', \'april08\', \'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\', \'default.png\', \'aprilliaputri844@gmail.com\', \'Jl. Jalan\', 0, \'2024-03-17 14:54:07\', \'2024-03-22 09:06:00\'),
(7, \'Rizky\', \'rizky123\', \'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\', \'default.png\', \'mrizkylubis2022@gmail.com\', \'Jl Jalan\', 0, \'2024-03-21 09:29:59\', \'2024-03-21 09:29:59\'),
(9, \'Sasa\', \'sasa20\', \'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\', \'default.png\', \'sasamalik@gmail.com\', \'Jl. Jalan\', 0, \'2024-03-21 10:27:39\', \'2024-03-21 10:27:39\'),
(10, \'Master\', \'master07\', \'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\', \'default.png\', \'master@gmail.com\', \'Jl jamin ginting\', 1, \'2024-03-22 10:35:36\', \'2024-03-22 10:35:36\');

-- --------------------------------------------------------

--
-- Stand-in structure for view `vw_album`
-- (See below for the actual view)
--
CREATE TABLE `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);

-- --------------------------------------------------------

--
-- Structure for view `vw_album`
--
DROP TABLE IF EXISTS `vw_album`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `vw_album`  AS SELECT `album`.`id` AS `id`, `album`.`album_name` AS `album_name`, `users`.`username` AS `username`, `users`.`avatar` AS `avatar`, `users`.`fullname` AS `fullname`, `users`.`id` AS `user_id` FROM (`album` join `users` on((`users`.`id` = `album`.`user_id`))) ;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `album`
--
ALTER TABLE `album`
  ADD PRIMARY KEY (`id`),
  ADD KEY `category_id` (`category_id`),
  ADD KEY `user_id` (`user_id`);

--
-- Indexes for table `category`
--
ALTER TABLE `category`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `comment_photos`
--
ALTER TABLE `comment_photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `comment_photos_photo_id_foreign` (`photo_id`),
  ADD KEY `comment_photos_user_id_foreign` (`user_id`);

--
-- Indexes for table `like_photos`
--
ALTER TABLE `like_photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `like_photos_photo_id_foreign` (`photo_id`),
  ADD KEY `like_photos_user_id_foreign` (`user_id`);

--
-- Indexes for table `migrations`
--
ALTER TABLE `migrations`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `photos`
--
ALTER TABLE `photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `photos_album_id_foreign` (`album_id`);

--
-- Indexes for table `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `album`
--
ALTER TABLE `album`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- AUTO_INCREMENT for table `category`
--
ALTER TABLE `category`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT for table `comment_photos`
--
ALTER TABLE `comment_photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=13;

--
-- AUTO_INCREMENT for table `like_photos`
--
ALTER TABLE `like_photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=33;

--
-- AUTO_INCREMENT for table `migrations`
--
ALTER TABLE `migrations`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `photos`
--
ALTER TABLE `photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- AUTO_INCREMENT for table `users`
--
ALTER TABLE `users`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `album`
--
ALTER TABLE `album`
  ADD CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `comment_photos`
--
ALTER TABLE `comment_photos`
  ADD CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `like_photos`
--
ALTER TABLE `like_photos`
  ADD CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `photos`
--
ALTER TABLE `photos`
  ADD CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
')
 3 APPPATH\Controllers\Utility.php(54): CodeIgniter\Database\BaseConnection->query('-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: localhost
-- Generation Time: Mar 22, 2024 at 04:56 AM
-- Server version: 8.0.30
-- PHP Version: 7.4.33

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `ci4album`
--

DELIMITER $$
--
-- Procedures
--
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory` (IN `cat_id` INT)   BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails` (IN `session_id` INT)   BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END$$

DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `album`
--

CREATE TABLE `album` (
  `id` int UNSIGNED NOT NULL,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `album`
--

INSERT INTO `album` (`id`, `album_name`, `description`, `category_id`, `user_id`, `status`, `created_at`, `updated_at`) VALUES
(7, \'Sasa Album\', \'Keren\', 1, 6, 0, \'2024-03-22 10:33:12\', \'2024-03-22 10:33:12\'),
(8, \'Master Album\', \'123123\', 1, 10, 0, \'2024-03-22 10:36:24\', \'2024-03-22 10:36:24\');

-- --------------------------------------------------------

--
-- Table structure for table `category`
--

CREATE TABLE `category` (
  `id` int NOT NULL,
  `name` varchar(200) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `category`
--

INSERT INTO `category` (`id`, `name`) VALUES
(1, \'Animal\'),
(2, \'Art\');

-- --------------------------------------------------------

--
-- Table structure for table `comment_photos`
--

CREATE TABLE `comment_photos` (
  `id` int UNSIGNED NOT NULL,
  `photo_id` int UNSIGNED NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

-- --------------------------------------------------------

--
-- Table structure for table `like_photos`
--

CREATE TABLE `like_photos` (
  `id` int UNSIGNED NOT NULL,
  `photo_id` int UNSIGNED NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

-- --------------------------------------------------------

--
-- Table structure for table `migrations`
--

CREATE TABLE `migrations` (
  `id` bigint UNSIGNED NOT NULL,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `migrations`
--

INSERT INTO `migrations` (`id`, `version`, `class`, `group`, `namespace`, `time`, `batch`) VALUES
(1, \'2024-01-28-073242\', \'App\\\\Database\\\\Migrations\\\\CreateTable\', \'default\', \'App\', 1706432625, 1);

-- --------------------------------------------------------

--
-- Table structure for table `photos`
--

CREATE TABLE `photos` (
  `id` int UNSIGNED NOT NULL,
  `album_id` int UNSIGNED NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `photos`
--

INSERT INTO `photos` (`id`, `album_id`, `photo_name`, `description`, `location`, `url_title`, `created_at`, `updated_at`) VALUES
(8, 7, \'Sasa\', \'Sasa\', \'1711082301_32a71dc036ce05e976cc.png\', \'sasa\', \'2024-03-22 11:38:21\', \'2024-03-22 11:38:21\');

-- --------------------------------------------------------

--
-- Table structure for table `users`
--

CREATE TABLE `users` (
  `id` int UNSIGNED NOT NULL,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `users`
--

INSERT INTO `users` (`id`, `fullname`, `username`, `password`, `avatar`, `email`, `address`, `role`, `created_at`, `updated_at`) VALUES
(6, \'Aprillia Putri\', \'april08\', \'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\', \'default.png\', \'aprilliaputri844@gmail.com\', \'Jl. Jalan\', 0, \'2024-03-17 14:54:07\', \'2024-03-22 09:06:00\'),
(7, \'Rizky\', \'rizky123\', \'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\', \'default.png\', \'mrizkylubis2022@gmail.com\', \'Jl Jalan\', 0, \'2024-03-21 09:29:59\', \'2024-03-21 09:29:59\'),
(9, \'Sasa\', \'sasa20\', \'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\', \'default.png\', \'sasamalik@gmail.com\', \'Jl. Jalan\', 0, \'2024-03-21 10:27:39\', \'2024-03-21 10:27:39\'),
(10, \'Master\', \'master07\', \'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\', \'default.png\', \'master@gmail.com\', \'Jl jamin ginting\', 1, \'2024-03-22 10:35:36\', \'2024-03-22 10:35:36\');

-- --------------------------------------------------------

--
-- Stand-in structure for view `vw_album`
-- (See below for the actual view)
--
CREATE TABLE `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);

-- --------------------------------------------------------

--
-- Structure for view `vw_album`
--
DROP TABLE IF EXISTS `vw_album`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `vw_album`  AS SELECT `album`.`id` AS `id`, `album`.`album_name` AS `album_name`, `users`.`username` AS `username`, `users`.`avatar` AS `avatar`, `users`.`fullname` AS `fullname`, `users`.`id` AS `user_id` FROM (`album` join `users` on((`users`.`id` = `album`.`user_id`))) ;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `album`
--
ALTER TABLE `album`
  ADD PRIMARY KEY (`id`),
  ADD KEY `category_id` (`category_id`),
  ADD KEY `user_id` (`user_id`);

--
-- Indexes for table `category`
--
ALTER TABLE `category`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `comment_photos`
--
ALTER TABLE `comment_photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `comment_photos_photo_id_foreign` (`photo_id`),
  ADD KEY `comment_photos_user_id_foreign` (`user_id`);

--
-- Indexes for table `like_photos`
--
ALTER TABLE `like_photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `like_photos_photo_id_foreign` (`photo_id`),
  ADD KEY `like_photos_user_id_foreign` (`user_id`);

--
-- Indexes for table `migrations`
--
ALTER TABLE `migrations`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `photos`
--
ALTER TABLE `photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `photos_album_id_foreign` (`album_id`);

--
-- Indexes for table `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `album`
--
ALTER TABLE `album`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- AUTO_INCREMENT for table `category`
--
ALTER TABLE `category`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT for table `comment_photos`
--
ALTER TABLE `comment_photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=13;

--
-- AUTO_INCREMENT for table `like_photos`
--
ALTER TABLE `like_photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=33;

--
-- AUTO_INCREMENT for table `migrations`
--
ALTER TABLE `migrations`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `photos`
--
ALTER TABLE `photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- AUTO_INCREMENT for table `users`
--
ALTER TABLE `users`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `album`
--
ALTER TABLE `album`
  ADD CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `comment_photos`
--
ALTER TABLE `comment_photos`
  ADD CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `like_photos`
--
ALTER TABLE `like_photos`
  ADD CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `photos`
--
ALTER TABLE `photos`
  ADD CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
')
 4 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 5 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 6 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 12:02:05 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_S' at line 11
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: localhost
-- Generation Time: Mar 22, 2024 at 04:56 AM
-- Server version: 8.0.30
-- PHP Version: 7.4.33

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `ci4album`
--

DELIMITER $$
--
-- Procedures
--
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory` (IN `cat_id` INT)   BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails` (IN `session_id` INT)   BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END$$

DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `album`
--

CREATE TABLE `album` (
  `id` int UNSIGNED NOT NULL,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `album`
--

INSERT INTO `album` (`id`, `album_name`, `description`, `category_id`, `user_id`, `status`, `created_at`, `updated_at`) VALUES
(7, \'Sasa Album\', \'Keren\', 1, 6, 0, \'2024-03-22 10:33:12\', \'2024-03-22 10:33:12\'),
(8, \'Master Album\', \'123123\', 1, 10, 0, \'2024-03-22 10:36:24\', \'2024-03-22 10:36:24\');

-- --------------------------------------------------------

--
-- Table structure for table `category`
--

CREATE TABLE `category` (
  `id` int NOT NULL,
  `name` varchar(200) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `category`
--

INSERT INTO `category` (`id`, `name`) VALUES
(1, \'Animal\'),
(2, \'Art\');

-- --------------------------------------------------------

--
-- Table structure for table `comment_photos`
--

CREATE TABLE `comment_photos` (
  `id` int UNSIGNED NOT NULL,
  `photo_id` int UNSIGNED NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

-- --------------------------------------------------------

--
-- Table structure for table `like_photos`
--

CREATE TABLE `like_photos` (
  `id` int UNSIGNED NOT NULL,
  `photo_id` int UNSIGNED NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

-- --------------------------------------------------------

--
-- Table structure for table `migrations`
--

CREATE TABLE `migrations` (
  `id` bigint UNSIGNED NOT NULL,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `migrations`
--

INSERT INTO `migrations` (`id`, `version`, `class`, `group`, `namespace`, `time`, `batch`) VALUES
(1, \'2024-01-28-073242\', \'App\\\\Database\\\\Migrations\\\\CreateTable\', \'default\', \'App\', 1706432625, 1);

-- --------------------------------------------------------

--
-- Table structure for table `photos`
--

CREATE TABLE `photos` (
  `id` int UNSIGNED NOT NULL,
  `album_id` int UNSIGNED NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `photos`
--

INSERT INTO `photos` (`id`, `album_id`, `photo_name`, `description`, `location`, `url_title`, `created_at`, `updated_at`) VALUES
(8, 7, \'Sasa\', \'Sasa\', \'1711082301_32a71dc036ce05e976cc.png\', \'sasa\', \'2024-03-22 11:38:21\', \'2024-03-22 11:38:21\');

-- --------------------------------------------------------

--
-- Table structure for table `users`
--

CREATE TABLE `users` (
  `id` int UNSIGNED NOT NULL,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `users`
--

INSERT INTO `users` (`id`, `fullname`, `username`, `password`, `avatar`, `email`, `address`, `role`, `created_at`, `updated_at`) VALUES
(6, \'Aprillia Putri\', \'april08\', \'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\', \'default.png\', \'aprilliaputri844@gmail.com\', \'Jl. Jalan\', 0, \'2024-03-17 14:54:07\', \'2024-03-22 09:06:00\'),
(7, \'Rizky\', \'rizky123\', \'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\', \'default.png\', \'mrizkylubis2022@gmail.com\', \'Jl Jalan\', 0, \'2024-03-21 09:29:59\', \'2024-03-21 09:29:59\'),
(9, \'Sasa\', \'sasa20\', \'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\', \'default.png\', \'sasamalik@gmail.com\', \'Jl. Jalan\', 0, \'2024-03-21 10:27:39\', \'2024-03-21 10:27:39\'),
(10, \'Master\', \'master07\', \'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\', \'default.png\', \'master@gmail.com\', \'Jl jamin ginting\', 1, \'2024-03-22 10:35:36\', \'2024-03-22 10:35:36\');

-- --------------------------------------------------------

--
-- Stand-in structure for view `vw_album`
-- (See below for the actual view)
--
CREATE TABLE `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);

-- --------------------------------------------------------

--
-- Structure for view `vw_album`
--
DROP TABLE IF EXISTS `vw_album`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `vw_album`  AS SELECT `album`.`id` AS `id`, `album`.`album_name` AS `album_name`, `users`.`username` AS `username`, `users`.`avatar` AS `avatar`, `users`.`fullname` AS `fullname`, `users`.`id` AS `user_id` FROM (`album` join `users` on((`users`.`id` = `album`.`user_id`))) ;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `album`
--
ALTER TABLE `album`
  ADD PRIMARY KEY (`id`),
  ADD KEY `category_id` (`category_id`),
  ADD KEY `user_id` (`user_id`);

--
-- Indexes for table `category`
--
ALTER TABLE `category`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `comment_photos`
--
ALTER TABLE `comment_photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `comment_photos_photo_id_foreign` (`photo_id`),
  ADD KEY `comment_photos_user_id_foreign` (`user_id`);

--
-- Indexes for table `like_photos`
--
ALTER TABLE `like_photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `like_photos_photo_id_foreign` (`photo_id`),
  ADD KEY `like_photos_user_id_foreign` (`user_id`);

--
-- Indexes for table `migrations`
--
ALTER TABLE `migrations`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `photos`
--
ALTER TABLE `photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `photos_album_id_foreign` (`album_id`);

--
-- Indexes for table `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `album`
--
ALTER TABLE `album`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- AUTO_INCREMENT for table `category`
--
ALTER TABLE `category`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT for table `comment_photos`
--
ALTER TABLE `comment_photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=13;

--
-- AUTO_INCREMENT for table `like_photos`
--
ALTER TABLE `like_photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=33;

--
-- AUTO_INCREMENT for table `migrations`
--
ALTER TABLE `migrations`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `photos`
--
ALTER TABLE `photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- AUTO_INCREMENT for table `users`
--
ALTER TABLE `users`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `album`
--
ALTER TABLE `album`
  ADD CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `comment_photos`
--
ALTER TABLE `comment_photos`
  ADD CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `like_photos`
--
ALTER TABLE `like_photos`
  ADD CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `photos`
--
ALTER TABLE `photos`
  ADD CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: localhost
-- Generation Time: Mar 22, 2024 at 04:56 AM
-- Server version: 8.0.30
-- PHP Version: 7.4.33

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `ci4album`
--

DELIMITER $$
--
-- Procedures
--
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory` (IN `cat_id` INT)   BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails` (IN `session_id` INT)   BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END$$

DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `album`
--

CREATE TABLE `album` (
  `id` int UNSIGNED NOT NULL,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `album`
--

INSERT INTO `album` (`id`, `album_name`, `description`, `category_id`, `user_id`, `status`, `created_at`, `updated_at`) VALUES
(7, \'Sasa Album\', \'Keren\', 1, 6, 0, \'2024-03-22 10:33:12\', \'2024-03-22 10:33:12\'),
(8, \'Master Album\', \'123123\', 1, 10, 0, \'2024-03-22 10:36:24\', \'2024-03-22 10:36:24\');

-- --------------------------------------------------------

--
-- Table structure for table `category`
--

CREATE TABLE `category` (
  `id` int NOT NULL,
  `name` varchar(200) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `category`
--

INSERT INTO `category` (`id`, `name`) VALUES
(1, \'Animal\'),
(2, \'Art\');

-- --------------------------------------------------------

--
-- Table structure for table `comment_photos`
--

CREATE TABLE `comment_photos` (
  `id` int UNSIGNED NOT NULL,
  `photo_id` int UNSIGNED NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

-- --------------------------------------------------------

--
-- Table structure for table `like_photos`
--

CREATE TABLE `like_photos` (
  `id` int UNSIGNED NOT NULL,
  `photo_id` int UNSIGNED NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

-- --------------------------------------------------------

--
-- Table structure for table `migrations`
--

CREATE TABLE `migrations` (
  `id` bigint UNSIGNED NOT NULL,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `migrations`
--

INSERT INTO `migrations` (`id`, `version`, `class`, `group`, `namespace`, `time`, `batch`) VALUES
(1, \'2024-01-28-073242\', \'App\\\\Database\\\\Migrations\\\\CreateTable\', \'default\', \'App\', 1706432625, 1);

-- --------------------------------------------------------

--
-- Table structure for table `photos`
--

CREATE TABLE `photos` (
  `id` int UNSIGNED NOT NULL,
  `album_id` int UNSIGNED NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `photos`
--

INSERT INTO `photos` (`id`, `album_id`, `photo_name`, `description`, `location`, `url_title`, `created_at`, `updated_at`) VALUES
(8, 7, \'Sasa\', \'Sasa\', \'1711082301_32a71dc036ce05e976cc.png\', \'sasa\', \'2024-03-22 11:38:21\', \'2024-03-22 11:38:21\');

-- --------------------------------------------------------

--
-- Table structure for table `users`
--

CREATE TABLE `users` (
  `id` int UNSIGNED NOT NULL,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `users`
--

INSERT INTO `users` (`id`, `fullname`, `username`, `password`, `avatar`, `email`, `address`, `role`, `created_at`, `updated_at`) VALUES
(6, \'Aprillia Putri\', \'april08\', \'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\', \'default.png\', \'aprilliaputri844@gmail.com\', \'Jl. Jalan\', 0, \'2024-03-17 14:54:07\', \'2024-03-22 09:06:00\'),
(7, \'Rizky\', \'rizky123\', \'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\', \'default.png\', \'mrizkylubis2022@gmail.com\', \'Jl Jalan\', 0, \'2024-03-21 09:29:59\', \'2024-03-21 09:29:59\'),
(9, \'Sasa\', \'sasa20\', \'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\', \'default.png\', \'sasamalik@gmail.com\', \'Jl. Jalan\', 0, \'2024-03-21 10:27:39\', \'2024-03-21 10:27:39\'),
(10, \'Master\', \'master07\', \'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\', \'default.png\', \'master@gmail.com\', \'Jl jamin ginting\', 1, \'2024-03-22 10:35:36\', \'2024-03-22 10:35:36\');

-- --------------------------------------------------------

--
-- Stand-in structure for view `vw_album`
-- (See below for the actual view)
--
CREATE TABLE `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);

-- --------------------------------------------------------

--
-- Structure for view `vw_album`
--
DROP TABLE IF EXISTS `vw_album`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `vw_album`  AS SELECT `album`.`id` AS `id`, `album`.`album_name` AS `album_name`, `users`.`username` AS `username`, `users`.`avatar` AS `avatar`, `users`.`fullname` AS `fullname`, `users`.`id` AS `user_id` FROM (`album` join `users` on((`users`.`id` = `album`.`user_id`))) ;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `album`
--
ALTER TABLE `album`
  ADD PRIMARY KEY (`id`),
  ADD KEY `category_id` (`category_id`),
  ADD KEY `user_id` (`user_id`);

--
-- Indexes for table `category`
--
ALTER TABLE `category`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `comment_photos`
--
ALTER TABLE `comment_photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `comment_photos_photo_id_foreign` (`photo_id`),
  ADD KEY `comment_photos_user_id_foreign` (`user_id`);

--
-- Indexes for table `like_photos`
--
ALTER TABLE `like_photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `like_photos_photo_id_foreign` (`photo_id`),
  ADD KEY `like_photos_user_id_foreign` (`user_id`);

--
-- Indexes for table `migrations`
--
ALTER TABLE `migrations`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `photos`
--
ALTER TABLE `photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `photos_album_id_foreign` (`album_id`);

--
-- Indexes for table `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `album`
--
ALTER TABLE `album`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- AUTO_INCREMENT for table `category`
--
ALTER TABLE `category`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT for table `comment_photos`
--
ALTER TABLE `comment_photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=13;

--
-- AUTO_INCREMENT for table `like_photos`
--
ALTER TABLE `like_photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=33;

--
-- AUTO_INCREMENT for table `migrations`
--
ALTER TABLE `migrations`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `photos`
--
ALTER TABLE `photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- AUTO_INCREMENT for table `users`
--
ALTER TABLE `users`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `album`
--
ALTER TABLE `album`
  ADD CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `comment_photos`
--
ALTER TABLE `comment_photos`
  ADD CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `like_photos`
--
ALTER TABLE `like_photos`
  ADD CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `photos`
--
ALTER TABLE `photos`
  ADD CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: localhost
-- Generation Time: Mar 22, 2024 at 04:56 AM
-- Server version: 8.0.30
-- PHP Version: 7.4.33

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `ci4album`
--

DELIMITER $$
--
-- Procedures
--
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory` (IN `cat_id` INT)   BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails` (IN `session_id` INT)   BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END$$

DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `album`
--

CREATE TABLE `album` (
  `id` int UNSIGNED NOT NULL,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `album`
--

INSERT INTO `album` (`id`, `album_name`, `description`, `category_id`, `user_id`, `status`, `created_at`, `updated_at`) VALUES
(7, \'Sasa Album\', \'Keren\', 1, 6, 0, \'2024-03-22 10:33:12\', \'2024-03-22 10:33:12\'),
(8, \'Master Album\', \'123123\', 1, 10, 0, \'2024-03-22 10:36:24\', \'2024-03-22 10:36:24\');

-- --------------------------------------------------------

--
-- Table structure for table `category`
--

CREATE TABLE `category` (
  `id` int NOT NULL,
  `name` varchar(200) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `category`
--

INSERT INTO `category` (`id`, `name`) VALUES
(1, \'Animal\'),
(2, \'Art\');

-- --------------------------------------------------------

--
-- Table structure for table `comment_photos`
--

CREATE TABLE `comment_photos` (
  `id` int UNSIGNED NOT NULL,
  `photo_id` int UNSIGNED NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

-- --------------------------------------------------------

--
-- Table structure for table `like_photos`
--

CREATE TABLE `like_photos` (
  `id` int UNSIGNED NOT NULL,
  `photo_id` int UNSIGNED NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

-- --------------------------------------------------------

--
-- Table structure for table `migrations`
--

CREATE TABLE `migrations` (
  `id` bigint UNSIGNED NOT NULL,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `migrations`
--

INSERT INTO `migrations` (`id`, `version`, `class`, `group`, `namespace`, `time`, `batch`) VALUES
(1, \'2024-01-28-073242\', \'App\\\\Database\\\\Migrations\\\\CreateTable\', \'default\', \'App\', 1706432625, 1);

-- --------------------------------------------------------

--
-- Table structure for table `photos`
--

CREATE TABLE `photos` (
  `id` int UNSIGNED NOT NULL,
  `album_id` int UNSIGNED NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `photos`
--

INSERT INTO `photos` (`id`, `album_id`, `photo_name`, `description`, `location`, `url_title`, `created_at`, `updated_at`) VALUES
(8, 7, \'Sasa\', \'Sasa\', \'1711082301_32a71dc036ce05e976cc.png\', \'sasa\', \'2024-03-22 11:38:21\', \'2024-03-22 11:38:21\');

-- --------------------------------------------------------

--
-- Table structure for table `users`
--

CREATE TABLE `users` (
  `id` int UNSIGNED NOT NULL,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `users`
--

INSERT INTO `users` (`id`, `fullname`, `username`, `password`, `avatar`, `email`, `address`, `role`, `created_at`, `updated_at`) VALUES
(6, \'Aprillia Putri\', \'april08\', \'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\', \'default.png\', \'aprilliaputri844@gmail.com\', \'Jl. Jalan\', 0, \'2024-03-17 14:54:07\', \'2024-03-22 09:06:00\'),
(7, \'Rizky\', \'rizky123\', \'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\', \'default.png\', \'mrizkylubis2022@gmail.com\', \'Jl Jalan\', 0, \'2024-03-21 09:29:59\', \'2024-03-21 09:29:59\'),
(9, \'Sasa\', \'sasa20\', \'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\', \'default.png\', \'sasamalik@gmail.com\', \'Jl. Jalan\', 0, \'2024-03-21 10:27:39\', \'2024-03-21 10:27:39\'),
(10, \'Master\', \'master07\', \'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\', \'default.png\', \'master@gmail.com\', \'Jl jamin ginting\', 1, \'2024-03-22 10:35:36\', \'2024-03-22 10:35:36\');

-- --------------------------------------------------------

--
-- Stand-in structure for view `vw_album`
-- (See below for the actual view)
--
CREATE TABLE `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);

-- --------------------------------------------------------

--
-- Structure for view `vw_album`
--
DROP TABLE IF EXISTS `vw_album`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `vw_album`  AS SELECT `album`.`id` AS `id`, `album`.`album_name` AS `album_name`, `users`.`username` AS `username`, `users`.`avatar` AS `avatar`, `users`.`fullname` AS `fullname`, `users`.`id` AS `user_id` FROM (`album` join `users` on((`users`.`id` = `album`.`user_id`))) ;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `album`
--
ALTER TABLE `album`
  ADD PRIMARY KEY (`id`),
  ADD KEY `category_id` (`category_id`),
  ADD KEY `user_id` (`user_id`);

--
-- Indexes for table `category`
--
ALTER TABLE `category`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `comment_photos`
--
ALTER TABLE `comment_photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `comment_photos_photo_id_foreign` (`photo_id`),
  ADD KEY `comment_photos_user_id_foreign` (`user_id`);

--
-- Indexes for table `like_photos`
--
ALTER TABLE `like_photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `like_photos_photo_id_foreign` (`photo_id`),
  ADD KEY `like_photos_user_id_foreign` (`user_id`);

--
-- Indexes for table `migrations`
--
ALTER TABLE `migrations`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `photos`
--
ALTER TABLE `photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `photos_album_id_foreign` (`album_id`);

--
-- Indexes for table `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `album`
--
ALTER TABLE `album`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- AUTO_INCREMENT for table `category`
--
ALTER TABLE `category`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT for table `comment_photos`
--
ALTER TABLE `comment_photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=13;

--
-- AUTO_INCREMENT for table `like_photos`
--
ALTER TABLE `like_photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=33;

--
-- AUTO_INCREMENT for table `migrations`
--
ALTER TABLE `migrations`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `photos`
--
ALTER TABLE `photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- AUTO_INCREMENT for table `users`
--
ALTER TABLE `users`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `album`
--
ALTER TABLE `album`
  ADD CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `comment_photos`
--
ALTER TABLE `comment_photos`
  ADD CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `like_photos`
--
ALTER TABLE `like_photos`
  ADD CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `photos`
--
ALTER TABLE `photos`
  ADD CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
')
 4 APPPATH\Controllers\Utility.php(54): CodeIgniter\Database\BaseConnection->query('-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: localhost
-- Generation Time: Mar 22, 2024 at 04:56 AM
-- Server version: 8.0.30
-- PHP Version: 7.4.33

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `ci4album`
--

DELIMITER $$
--
-- Procedures
--
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAlbumByCategory` (IN `cat_id` INT)   BEGIN
    SELECT album.album_name, users.username, photos.photo_name, photos.description, photos.location, photos.created_at
    FROM photos
    JOIN album ON album.id = photos.album_id
    JOIN users ON users.id = album.user_id
    WHERE album.category_id = cat_id;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `GetMyAlbumDetails` (IN `session_id` INT)   BEGIN
    SELECT album.id AS id, album.album_name, users.username, users.avatar, users.fullname, users.id AS user_id
    FROM album
    JOIN users ON users.id = album.user_id
    WHERE album.user_id = session_id;
END$$

DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `album`
--

CREATE TABLE `album` (
  `id` int UNSIGNED NOT NULL,
  `album_name` varchar(100) NOT NULL,
  `description` varchar(100) NOT NULL,
  `category_id` int NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `status` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `album`
--

INSERT INTO `album` (`id`, `album_name`, `description`, `category_id`, `user_id`, `status`, `created_at`, `updated_at`) VALUES
(7, \'Sasa Album\', \'Keren\', 1, 6, 0, \'2024-03-22 10:33:12\', \'2024-03-22 10:33:12\'),
(8, \'Master Album\', \'123123\', 1, 10, 0, \'2024-03-22 10:36:24\', \'2024-03-22 10:36:24\');

-- --------------------------------------------------------

--
-- Table structure for table `category`
--

CREATE TABLE `category` (
  `id` int NOT NULL,
  `name` varchar(200) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `category`
--

INSERT INTO `category` (`id`, `name`) VALUES
(1, \'Animal\'),
(2, \'Art\');

-- --------------------------------------------------------

--
-- Table structure for table `comment_photos`
--

CREATE TABLE `comment_photos` (
  `id` int UNSIGNED NOT NULL,
  `photo_id` int UNSIGNED NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `comment` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

-- --------------------------------------------------------

--
-- Table structure for table `like_photos`
--

CREATE TABLE `like_photos` (
  `id` int UNSIGNED NOT NULL,
  `photo_id` int UNSIGNED NOT NULL,
  `user_id` int UNSIGNED NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

-- --------------------------------------------------------

--
-- Table structure for table `migrations`
--

CREATE TABLE `migrations` (
  `id` bigint UNSIGNED NOT NULL,
  `version` varchar(255) NOT NULL,
  `class` varchar(255) NOT NULL,
  `group` varchar(255) NOT NULL,
  `namespace` varchar(255) NOT NULL,
  `time` int NOT NULL,
  `batch` int UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `migrations`
--

INSERT INTO `migrations` (`id`, `version`, `class`, `group`, `namespace`, `time`, `batch`) VALUES
(1, \'2024-01-28-073242\', \'App\\\\Database\\\\Migrations\\\\CreateTable\', \'default\', \'App\', 1706432625, 1);

-- --------------------------------------------------------

--
-- Table structure for table `photos`
--

CREATE TABLE `photos` (
  `id` int UNSIGNED NOT NULL,
  `album_id` int UNSIGNED NOT NULL,
  `photo_name` varchar(200) NOT NULL,
  `description` text,
  `location` varchar(100) NOT NULL,
  `url_title` varchar(200) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `photos`
--

INSERT INTO `photos` (`id`, `album_id`, `photo_name`, `description`, `location`, `url_title`, `created_at`, `updated_at`) VALUES
(8, 7, \'Sasa\', \'Sasa\', \'1711082301_32a71dc036ce05e976cc.png\', \'sasa\', \'2024-03-22 11:38:21\', \'2024-03-22 11:38:21\');

-- --------------------------------------------------------

--
-- Table structure for table `users`
--

CREATE TABLE `users` (
  `id` int UNSIGNED NOT NULL,
  `fullname` varchar(100) NOT NULL,
  `username` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `avatar` varchar(200) NOT NULL DEFAULT \'default.png\',
  `email` varchar(100) NOT NULL,
  `address` text,
  `role` int NOT NULL DEFAULT \'0\',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Dumping data for table `users`
--

INSERT INTO `users` (`id`, `fullname`, `username`, `password`, `avatar`, `email`, `address`, `role`, `created_at`, `updated_at`) VALUES
(6, \'Aprillia Putri\', \'april08\', \'$2y$10$AojQXELnKmR6eFxHIE9y5.Gxk/CqaU7ghg/NLqO0DbxCO/PfoN4TK\', \'default.png\', \'aprilliaputri844@gmail.com\', \'Jl. Jalan\', 0, \'2024-03-17 14:54:07\', \'2024-03-22 09:06:00\'),
(7, \'Rizky\', \'rizky123\', \'$2y$10$C/fKkvVSS6eJpgtQghE/ruPhPn2CIPuqyj4UA97aX5QpsIRn8uLx2\', \'default.png\', \'mrizkylubis2022@gmail.com\', \'Jl Jalan\', 0, \'2024-03-21 09:29:59\', \'2024-03-21 09:29:59\'),
(9, \'Sasa\', \'sasa20\', \'$2y$10$KrYPN26DHtLxkfkjJAcNreHA9gZpTHrJUIpR7JuFaFERoLUw8hCHC\', \'default.png\', \'sasamalik@gmail.com\', \'Jl. Jalan\', 0, \'2024-03-21 10:27:39\', \'2024-03-21 10:27:39\'),
(10, \'Master\', \'master07\', \'$2y$10$Qs4wqcd.md0lRlvCduY8EOD3KOOY7ysLu5/enKmgW2qYO4pWhYqHS\', \'default.png\', \'master@gmail.com\', \'Jl jamin ginting\', 1, \'2024-03-22 10:35:36\', \'2024-03-22 10:35:36\');

-- --------------------------------------------------------

--
-- Stand-in structure for view `vw_album`
-- (See below for the actual view)
--
CREATE TABLE `vw_album` (
`id` int unsigned
,`album_name` varchar(100)
,`username` varchar(100)
,`avatar` varchar(200)
,`fullname` varchar(100)
,`user_id` int unsigned
);

-- --------------------------------------------------------

--
-- Structure for view `vw_album`
--
DROP TABLE IF EXISTS `vw_album`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `vw_album`  AS SELECT `album`.`id` AS `id`, `album`.`album_name` AS `album_name`, `users`.`username` AS `username`, `users`.`avatar` AS `avatar`, `users`.`fullname` AS `fullname`, `users`.`id` AS `user_id` FROM (`album` join `users` on((`users`.`id` = `album`.`user_id`))) ;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `album`
--
ALTER TABLE `album`
  ADD PRIMARY KEY (`id`),
  ADD KEY `category_id` (`category_id`),
  ADD KEY `user_id` (`user_id`);

--
-- Indexes for table `category`
--
ALTER TABLE `category`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `comment_photos`
--
ALTER TABLE `comment_photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `comment_photos_photo_id_foreign` (`photo_id`),
  ADD KEY `comment_photos_user_id_foreign` (`user_id`);

--
-- Indexes for table `like_photos`
--
ALTER TABLE `like_photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `like_photos_photo_id_foreign` (`photo_id`),
  ADD KEY `like_photos_user_id_foreign` (`user_id`);

--
-- Indexes for table `migrations`
--
ALTER TABLE `migrations`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `photos`
--
ALTER TABLE `photos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `photos_album_id_foreign` (`album_id`);

--
-- Indexes for table `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `album`
--
ALTER TABLE `album`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- AUTO_INCREMENT for table `category`
--
ALTER TABLE `category`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT for table `comment_photos`
--
ALTER TABLE `comment_photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=13;

--
-- AUTO_INCREMENT for table `like_photos`
--
ALTER TABLE `like_photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=33;

--
-- AUTO_INCREMENT for table `migrations`
--
ALTER TABLE `migrations`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `photos`
--
ALTER TABLE `photos`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- AUTO_INCREMENT for table `users`
--
ALTER TABLE `users`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `album`
--
ALTER TABLE `album`
  ADD CONSTRAINT `album_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `album_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `comment_photos`
--
ALTER TABLE `comment_photos`
  ADD CONSTRAINT `comment_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `comment_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `like_photos`
--
ALTER TABLE `like_photos`
  ADD CONSTRAINT `like_photos_photo_id_foreign` FOREIGN KEY (`photo_id`) REFERENCES `photos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `like_photos_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `photos`
--
ALTER TABLE `photos`
  ADD CONSTRAINT `photos_album_id_foreign` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
')
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Utility->doRestore()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Utility))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
INFO - 2024-03-23 12:02:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2024-03-23 12:02:51 --> mysqli_sql_exception: Table 'ci4album.category' doesn't exist in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('SELECT *\nFROM `...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *\nFROM `...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *\nFROM `...')
#3 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *\nFROM `...', Array, false)
#4 D:\ci4album\vendor\codeigniter4\framework\system\Model.php(242): CodeIgniter\Database\BaseBuilder->get()
#5 D:\ci4album\vendor\codeigniter4\framework\system\BaseModel.php(638): CodeIgniter\Model->doFindAll(0, 0)
#6 D:\ci4album\app\Controllers\Category.php(38): CodeIgniter\BaseModel->findAll()
#7 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Category->getAll()
#8 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Category))
#9 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#11 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#12 {main}
CRITICAL - 2024-03-23 12:02:51 --> CodeIgniter\Database\Exceptions\DatabaseException: Table 'ci4album.category' doesn't exist
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `category`', [], false)
 2 SYSTEMPATH\Model.php(242): CodeIgniter\Database\BaseBuilder->get()
 3 SYSTEMPATH\BaseModel.php(638): CodeIgniter\Model->doFindAll(0, 0)
 4 APPPATH\Controllers\Category.php(38): CodeIgniter\BaseModel->findAll()
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Category->getAll()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Category))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 12:02:51 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Table 'ci4album.category' doesn't exist
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *
FROM `category`')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *
FROM `category`')
 3 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `category`', [], false)
 4 SYSTEMPATH\Model.php(242): CodeIgniter\Database\BaseBuilder->get()
 5 SYSTEMPATH\BaseModel.php(638): CodeIgniter\Model->doFindAll(0, 0)
 6 APPPATH\Controllers\Category.php(38): CodeIgniter\BaseModel->findAll()
 7 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Category->getAll()
 8 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Category))
 9 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 12:02:51 --> [Caused by] mysqli_sql_exception: Table 'ci4album.category' doesn't exist
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('SELECT *
FROM `category`', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *
FROM `category`')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *
FROM `category`')
 4 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `category`', [], false)
 5 SYSTEMPATH\Model.php(242): CodeIgniter\Database\BaseBuilder->get()
 6 SYSTEMPATH\BaseModel.php(638): CodeIgniter\Model->doFindAll(0, 0)
 7 APPPATH\Controllers\Category.php(38): CodeIgniter\BaseModel->findAll()
 8 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Category->getAll()
 9 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Category))
10 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
11 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
12 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
INFO - 2024-03-23 12:05:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 12:07:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 12:09:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 12:09:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2024-03-23 12:09:49 --> mysqli_sql_exception: Table 'ci4album.category' doesn't exist in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('SELECT *\nFROM `...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *\nFROM `...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *\nFROM `...')
#3 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *\nFROM `...', Array, false)
#4 D:\ci4album\vendor\codeigniter4\framework\system\Model.php(242): CodeIgniter\Database\BaseBuilder->get()
#5 D:\ci4album\vendor\codeigniter4\framework\system\BaseModel.php(638): CodeIgniter\Model->doFindAll(0, 0)
#6 D:\ci4album\app\Controllers\Category.php(38): CodeIgniter\BaseModel->findAll()
#7 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Category->getAll()
#8 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Category))
#9 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#11 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#12 {main}
CRITICAL - 2024-03-23 12:09:49 --> CodeIgniter\Database\Exceptions\DatabaseException: Table 'ci4album.category' doesn't exist
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `category`', [], false)
 2 SYSTEMPATH\Model.php(242): CodeIgniter\Database\BaseBuilder->get()
 3 SYSTEMPATH\BaseModel.php(638): CodeIgniter\Model->doFindAll(0, 0)
 4 APPPATH\Controllers\Category.php(38): CodeIgniter\BaseModel->findAll()
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Category->getAll()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Category))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 12:09:49 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Table 'ci4album.category' doesn't exist
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *
FROM `category`')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *
FROM `category`')
 3 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `category`', [], false)
 4 SYSTEMPATH\Model.php(242): CodeIgniter\Database\BaseBuilder->get()
 5 SYSTEMPATH\BaseModel.php(638): CodeIgniter\Model->doFindAll(0, 0)
 6 APPPATH\Controllers\Category.php(38): CodeIgniter\BaseModel->findAll()
 7 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Category->getAll()
 8 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Category))
 9 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 12:09:49 --> [Caused by] mysqli_sql_exception: Table 'ci4album.category' doesn't exist
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('SELECT *
FROM `category`', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *
FROM `category`')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *
FROM `category`')
 4 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `category`', [], false)
 5 SYSTEMPATH\Model.php(242): CodeIgniter\Database\BaseBuilder->get()
 6 SYSTEMPATH\BaseModel.php(638): CodeIgniter\Model->doFindAll(0, 0)
 7 APPPATH\Controllers\Category.php(38): CodeIgniter\BaseModel->findAll()
 8 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Category->getAll()
 9 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Category))
10 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
11 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
12 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
INFO - 2024-03-23 12:12:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 12:13:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 12:13:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 12:28:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 12:28:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2024-03-23 12:28:15 --> mysqli_sql_exception: Table 'ci4album.vw_album' doesn't exist in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('SELECT *\nFROM `...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *\nFROM `...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *\nFROM `...')
#3 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *\nFROM `...', Array, false)
#4 D:\ci4album\app\Controllers\Home.php(147): CodeIgniter\Database\BaseBuilder->get()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Home->getAllAlbum()
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Home))
#7 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#9 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#10 {main}
CRITICAL - 2024-03-23 12:28:15 --> CodeIgniter\Database\Exceptions\DatabaseException: Table 'ci4album.vw_album' doesn't exist
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `vw_album`', [], false)
 2 APPPATH\Controllers\Home.php(147): CodeIgniter\Database\BaseBuilder->get()
 3 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Home->getAllAlbum()
 4 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Home))
 5 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 6 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 7 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 12:28:15 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Table 'ci4album.vw_album' doesn't exist
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *
FROM `vw_album`')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *
FROM `vw_album`')
 3 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `vw_album`', [], false)
 4 APPPATH\Controllers\Home.php(147): CodeIgniter\Database\BaseBuilder->get()
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Home->getAllAlbum()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Home))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 12:28:15 --> [Caused by] mysqli_sql_exception: Table 'ci4album.vw_album' doesn't exist
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('SELECT *
FROM `vw_album`', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *
FROM `vw_album`')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *
FROM `vw_album`')
 4 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `vw_album`', [], false)
 5 APPPATH\Controllers\Home.php(147): CodeIgniter\Database\BaseBuilder->get()
 6 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Home->getAllAlbum()
 7 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Home))
 8 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
INFO - 2024-03-23 12:28:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2024-03-23 12:28:37 --> mysqli_sql_exception: Table 'ci4album.vw_album' doesn't exist in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('SELECT *\nFROM `...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *\nFROM `...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *\nFROM `...')
#3 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *\nFROM `...', Array, false)
#4 D:\ci4album\app\Controllers\Home.php(147): CodeIgniter\Database\BaseBuilder->get()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Home->getAllAlbum()
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Home))
#7 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#9 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#10 {main}
CRITICAL - 2024-03-23 12:28:37 --> CodeIgniter\Database\Exceptions\DatabaseException: Table 'ci4album.vw_album' doesn't exist
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `vw_album`', [], false)
 2 APPPATH\Controllers\Home.php(147): CodeIgniter\Database\BaseBuilder->get()
 3 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Home->getAllAlbum()
 4 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Home))
 5 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 6 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 7 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 12:28:37 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Table 'ci4album.vw_album' doesn't exist
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *
FROM `vw_album`')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *
FROM `vw_album`')
 3 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `vw_album`', [], false)
 4 APPPATH\Controllers\Home.php(147): CodeIgniter\Database\BaseBuilder->get()
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Home->getAllAlbum()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Home))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 12:28:37 --> [Caused by] mysqli_sql_exception: Table 'ci4album.vw_album' doesn't exist
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('SELECT *
FROM `vw_album`', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *
FROM `vw_album`')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *
FROM `vw_album`')
 4 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `vw_album`', [], false)
 5 APPPATH\Controllers\Home.php(147): CodeIgniter\Database\BaseBuilder->get()
 6 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Home->getAllAlbum()
 7 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Home))
 8 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
INFO - 2024-03-23 12:28:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2024-03-23 12:28:43 --> mysqli_sql_exception: Table 'ci4album.vw_album' doesn't exist in D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 D:\ci4album\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(306): mysqli->query('SELECT *\nFROM `...', 0)
#1 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *\nFROM `...')
#2 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *\nFROM `...')
#3 D:\ci4album\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *\nFROM `...', Array, false)
#4 D:\ci4album\app\Controllers\Home.php(147): CodeIgniter\Database\BaseBuilder->get()
#5 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(941): App\Controllers\Home->getAllAlbum()
#6 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Home))
#7 D:\ci4album\vendor\codeigniter4\framework\system\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\ci4album\public\index.php(79): CodeIgniter\CodeIgniter->run()
#9 D:\ci4album\vendor\codeigniter4\framework\system\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\pub...')
#10 {main}
CRITICAL - 2024-03-23 12:28:43 --> CodeIgniter\Database\Exceptions\DatabaseException: Table 'ci4album.vw_album' doesn't exist
in SYSTEMPATH\Database\BaseConnection.php on line 647.
 1 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `vw_album`', [], false)
 2 APPPATH\Controllers\Home.php(147): CodeIgniter\Database\BaseBuilder->get()
 3 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Home->getAllAlbum()
 4 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Home))
 5 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 6 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 7 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 12:28:43 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Table 'ci4album.vw_album' doesn't exist
in SYSTEMPATH\Database\MySQLi\Connection.php on line 311.
 1 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *
FROM `vw_album`')
 2 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *
FROM `vw_album`')
 3 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `vw_album`', [], false)
 4 APPPATH\Controllers\Home.php(147): CodeIgniter\Database\BaseBuilder->get()
 5 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Home->getAllAlbum()
 6 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Home))
 7 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 12:28:43 --> [Caused by] mysqli_sql_exception: Table 'ci4album.vw_album' doesn't exist
in SYSTEMPATH\Database\MySQLi\Connection.php on line 306.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(306): mysqli->query('SELECT *
FROM `vw_album`', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(693): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *
FROM `vw_album`')
 3 SYSTEMPATH\Database\BaseConnection.php(607): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *
FROM `vw_album`')
 4 SYSTEMPATH\Database\BaseBuilder.php(1616): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `vw_album`', [], false)
 5 APPPATH\Controllers\Home.php(147): CodeIgniter\Database\BaseBuilder->get()
 6 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Home->getAllAlbum()
 7 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Home))
 8 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
INFO - 2024-03-23 12:30:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 12:30:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 12:31:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 12:32:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 12:33:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 12:34:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 12:34:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 12:34:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 12:34:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 12:34:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
CRITICAL - 2024-03-23 12:34:30 --> Error: Cannot use object of type stdClass as array
in APPPATH\Controllers\Home.php on line 110.
 1 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Home->remove_album('7')
 2 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Home))
 3 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
CRITICAL - 2024-03-23 12:34:32 --> Error: Cannot use object of type stdClass as array
in APPPATH\Controllers\Home.php on line 110.
 1 SYSTEMPATH\CodeIgniter.php(941): App\Controllers\Home->remove_album('7')
 2 SYSTEMPATH\CodeIgniter.php(502): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Home))
 3 SYSTEMPATH\CodeIgniter.php(361): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('D:\\ci4album\\public\\index.php')
INFO - 2024-03-23 12:34:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 12:34:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 12:34:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2024-03-23 12:34:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
